<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function downloads the necessary Global Forest Watch and CO2 Emission
 data for a given shapefile. The shapefile is transformed to its bounding
 box, projected to its central UTM Zone and a buffer is applied. The default
 buffer size is 5000 meteres, but it can be changes by the user. It uses
 gdal system calls to speed up the process. The raw files by default will be
 deleted, but they also can be kept on the disk. Note, the CO2 emission data
 is only available roughly between 30N and 30S and the function will fail if
 your input shapfiles extent plus buffer is extending beyond those limits.
 This function relies heavily on code published at https://github.com/azvoleff/gfcanalysis."><title>Download GFW and CO2-Emission data — downloadGFW • mapme.forest</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Download GFW and CO2-Emission data — downloadGFW"><meta property="og:description" content="This function downloads the necessary Global Forest Watch and CO2 Emission
 data for a given shapefile. The shapefile is transformed to its bounding
 box, projected to its central UTM Zone and a buffer is applied. The default
 buffer size is 5000 meteres, but it can be changes by the user. It uses
 gdal system calls to speed up the process. The raw files by default will be
 deleted, but they also can be kept on the disk. Note, the CO2 emission data
 is only available roughly between 30N and 30S and the function will fail if
 your input shapfiles extent plus buffer is extending beyond those limits.
 This function relies heavily on code published at https://github.com/azvoleff/gfcanalysis."><meta property="og:image" content="https://mapme-initiative.github.io/mapme.forest/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">mapme.forest</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/GFW.html">Download &amp; Preprocessing</a>
    <a class="dropdown-item" href="../articles/area_stats.html">Area Statistics</a>
    <a class="dropdown-item" href="../articles/big_data.html">Big Data Analytics</a>
    <a class="dropdown-item" href="../articles/frag_stats.html">Fragmentation Statistics</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Download GFW and CO2-Emission data</h1>
      
      <div class="d-none name"><code>downloadGFW.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function downloads the necessary Global Forest Watch and CO2 Emission
 data for a given shapefile. The shapefile is transformed to its bounding
 box, projected to its central UTM Zone and a buffer is applied. The default
 buffer size is 5000 meteres, but it can be changes by the user. It uses
 gdal system calls to speed up the process. The raw files by default will be
 deleted, but they also can be kept on the disk. Note, the CO2 emission data
 is only available roughly between 30N and 30S and the function will fail if
 your input shapfiles extent plus buffer is extending beyond those limits.
 This function relies heavily on code published at https://github.com/azvoleff/gfcanalysis.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">downloadGFW</span><span class="op">(</span>
  <span class="va">shape</span>,
  dataset <span class="op">=</span> <span class="st">"GFC-2018-v1.6"</span>,
  basename <span class="op">=</span> <span class="st">"Hansen_1.6"</span>,
  outdir <span class="op">=</span> <span class="st">"."</span>,
  keepTmpFiles <span class="op">=</span> <span class="cn">F</span>,
  .tmpdir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>tmpdir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>shape</dt>
<dd><p>A <code>sfObject</code> determining the extent for which to get the GFW data.</p></dd>
<dt>dataset</dt>
<dd><p>A <code>charachter</code> specifiying the version of the GFW data to extract.
Defaults to version 1.6 from 2018. The newer version can be downloaded when
you specify <code>dataset = "GFW-2019-v1.7"</code>.</p></dd>
<dt>basename</dt>
<dd><p>A <code>charachter</code> which will be added to the resulting
file names.</p></dd>
<dt>outdir</dt>
<dd><p>A <code>charachter</code> for a local directory for the final outputs.
If it is not existing it will be created without a message. Defaults to the
current working directory.</p></dd>
<dt>keepTmpFiles</dt>
<dd><p>A <code>logical</code> indicating if the raw tiles should be kept in
the <code>tmpdir</code> directory. It defaults to <code>FALSE</code>, which usually makes sense.
However, if you apply a number of analysis for different extents but there might
be overlaps, it could be useful to keep the downloaded files on your machine.
The function will only download the necessary data if it is not alread present
in the <code>tmpdir</code>.</p></dd>
<dt>.tmpdir</dt>
<dd><p>A <code>charachter</code> indicating a directory where to download
the raw tiles to. It defaults to a random directory name in the actual R temporary
directory. If you want to keep single values, e.g. when your aoi spans multiple
tiles, you can specify a custom directory.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>vector</code> of type <code>charachter</code> with all the files matching
 the <code>basename</code> pattern in the <code>outdir</code> directory.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>This function depends on available gdal binaries on your system. Make sure they
  are available as environment variables on your machine or use our docker image instead.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Darius Görgen (MapTailor Geospatial Consulting GbR) <a href="mailto:info@maptailor.net">info@maptailor.net</a>
<br><em>Maintainer:</em> MAPME-Initiative <a href="mailto:contact@mapme-initiative.org">contact@mapme-initiative.org</a>
<br><em>Contact Person:</em> Dr. Johannes Schielein
<br><em>Copyright:</em> MAPME-Initiative
<br><em>License:</em> GPL-3</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="va">aoi</span> <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">st_read</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"aoi_polys.gpkg"</span>, package <span class="op">=</span> <span class="st">"mapme.forest"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">raster_files</span> <span class="op">=</span> <span class="fu">downloadGFW</span><span class="op">(</span>shape <span class="op">=</span> <span class="va">aoi</span>,</span>
<span class="r-in">                            basename <span class="op">=</span> <span class="st">"pkgTest"</span>,</span>
<span class="r-in">                            outdir <span class="op">=</span> <span class="st">"./data/"</span>,</span>
<span class="r-in">                            keepTmpFiles <span class="op">=</span> <span class="cn">T</span>,</span>
<span class="r-in">                            .tmpdir <span class="op">=</span> <span class="st">"./data/tmp"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># resulting rasters are not automatically cropped to the extent of aoi</span></span>
<span class="r-in"><span class="va">rasters</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/stack.html" class="external-link">stack</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">raster_files</span>, <span class="kw">function</span><span class="op">(</span><span class="va">f</span><span class="op">)</span><span class="op">{</span></span>
<span class="r-in"><span class="va">f</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/brick.html" class="external-link">brick</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span></span>
<span class="r-in"><span class="va">f</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/crop.html" class="external-link">crop</a></span><span class="op">(</span><span class="va">f</span>, <span class="va">aoi</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="http://dariusgoergen.com/" class="external-link">Darius Görgen</a>, <a href="https://mapme-initiative.org/" class="external-link">MAPME-Initiative</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.0.</p>
</div>

    </footer></div>

  

  

  </body></html>

